<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.nf.like.mapper.LikeMapper">

    <resultMap id="likeMap" type="like">
        <result property="postId" column="post_id"/>
        <result property="userId" column="user_id"/>
    </resultMap>

    <select id="listLikeByPostId" parameterType="int" resultMap="likeMap">
        select post_id, user_id from like_info where post_id = #{postId}
    </select>

    <insert id="save" parameterType="post">
        insert into like_info(post_id, user_id) values(#{postId}, #{userId})
    </insert>

    <delete id="delete">
        delete from like_info where post_id = #{postId} and user_id = #{userId}
    </delete>
</mapper>